#
# Makefile for the xvdr PVR AddOn
#
# See the README for copyright information and
# how to reach the author.
#

LIBS     = -ldl -lpthread
LIBDIR   = @abs_top_srcdir@/addons/pvr.vdr.xvdr
PVRADDON = $(LIBDIR)/XBMC_VDR_xvdr.pvr

SRCS   = xvdr/XBMCAddon.cpp \
         xvdr/XBMCCallbacks.cpp \
         xvdr/XBMCChannelScan.cpp \
         xvdr/XBMCSettings.cpp \
         libxvdr/libTcpSocket/linux/net_posix.c \
         libxvdr/iso639.cpp \
         libxvdr/requestpacket.cpp \
         libxvdr/tools.cpp \
         libxvdr/XVDRCallbacks.cpp \
         libxvdr/XVDRData.cpp \
         libxvdr/XVDRDemux.cpp \
         libxvdr/XVDRRecording.cpp \
         libxvdr/XVDRResponsePacket.cpp \
         libxvdr/XVDRSession.cpp \
         libxvdr/XVDRThread.cpp

$(PVRADDON): buildpvrdeps $(OBJS)
	$(SILENT_CPP) $(CXX) $(CXXFLAGS) $(LDFLAGS) -shared -g $(OBJS) $(LIBS) $(LIBDIRS) $(SILIB) -o $(PVRADDON)

include ../Makefile.include

clean: cleanpvrdeps

cleanpvrdeps:
	-rm -f $(PVRADDON)

buildpvrdeps: $(OBJS)
